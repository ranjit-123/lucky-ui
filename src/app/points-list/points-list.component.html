<div *ngIf="isLoggedIn" class="content-wrapper">
  <div class="card">
<div class="card">
  <div class="card-header border-transparent">
    <h3 class="card-title">Transaction Filter</h3>
    <div class="card-tools">
      <button type="button" class="btn btn-tool" data-card-widget="collapse">
        <i class="fas fa-minus"></i>
      </button>
      <button type="button" class="btn btn-tool" data-card-widget="remove">
        <i class="fas fa-times"></i>
      </button>
    </div>
  </div>
  <!-- /.card-header -->
  <div class="card-body" style="display: block;">
    <div class="row">
          <div class="col-sm-3"> 
            <div class="form-group">
              <div class="input-group">
                <input class="form-control"  placeholder="yyyy-mm-dd"
                       name="fromDate" [(ngModel)]="fromDate" ngbDatepicker #d="ngbDatepicker">
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button"></button>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-3"> 
            <div class="form-group">
              <div class="input-group">
                <input class="form-control"  placeholder="yyyy-mm-dd"
                       name="toDate" [(ngModel)]="toDate" ngbDatepicker #t="ngbDatepicker">
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary calendar" (click)="t.toggle()" type="button"></button>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-3">
            <!-- <select name="user_type" id="toUser" class="form-control" required [(ngModel)]="toUser">
              <option value="">Select Type</option>								
              <option value="1">Retailer</option>
              <option value="2">Distributor</option>            
            </select> -->
            <!-- <input type="text" name="user_name" class="form-control" placeholder="Enter User Name" [(ngModel)]="toUser"> -->
            <input id="typeahead-format" type="text" class="form-control" [(ngModel)]="toUser" [ngbTypeahead]="search" [resultFormatter]="formatter" />
          </div>
  
          <div class="col-sm-3">
            <button type="submit" (click)="rerender()" class="btn btn-primary">Submit</button>
          </div>
    </div>
  </div>
</div>
<div class="card">
    <div class="card-header border-transparent">
      <h3 class="card-title">Points Transaction</h3>

      <div class="card-tools">
        <button type="button" class="btn btn-tool" data-card-widget="collapse">
          <i class="fas fa-minus"></i>
        </button>
        <button type="button" class="btn btn-tool" data-card-widget="remove">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>
    <!-- /.card-header -->
    <div class="card-body" style="display: block;">
        <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="row-border hover table table-bordered table-striped dataTable dtr-inline">
          <thead>
            <tr>
              <th>#</th>
              <th>Date  </th>
              <th>From User</th>
              <th>To user</th>
              <th>Opning</th>
              <th>Credit</th>
              <th>Debit</th>
              <th>Balance</th>
              <th>Narration</th>
              <th>Nature</th>
              
            </tr>
          </thead>
          <tbody *ngIf="points?.length != 0">
            <tr *ngFor="let point of points" >
              <td>{{ point.transactionId }}</td>
              <td>{{ point.date }}</td>
              <td>{{ point.fromuser }}</td>
              <td>{{ point.touser}}</td>
              <td>{{ point.openingBalance.toFixed(2) }}</td>
              <td>{{ point.credit }}</td>
              <td>{{ point.debit }}</td>
              <td>{{ point.balance.toFixed(2) }}</td>
              <td>{{ point.narration }}</td>
              <td>{{ point.nature }}</td>
            </tr>
          </tbody>
          <tbody *ngIf="points?.length === 0">
            <tr>
              <td colspan="3" class="no-data-available">No data!</td>
            </tr>
          </tbody>
        </table>
    </div>
  </div></div></div>